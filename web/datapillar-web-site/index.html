<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" sizes="512x512" href="/logo-512.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/logo-192.png" />
    <link rel="icon" type="image/png" sizes="64x64" href="/logo-64.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/logo-32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/logo-180.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Datapillar</title>
    <!-- 防止主题闪烁：在首屏渲染前设置主题 -->
    <script>
      (function() {
        try {
          const stored = localStorage.getItem('theme-storage')

          // 默认深色主题（适合数据平台）
          let mode = 'dark'

          if (stored) {
            const { state } = JSON.parse(stored)
            mode = state?.mode || 'dark'
          }

          if (mode === 'dark') {
            document.documentElement.classList.add('dark')
          }
        } catch (e) {
          // 解析失败，默认深色主题
          document.documentElement.classList.add('dark')
        }
      })()
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
