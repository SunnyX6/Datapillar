<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunny.job.server.mapper.JobWorkflowMapper">

    <!-- 更新工作流（不更新 status） -->
    <update id="updateWorkflow">
        UPDATE job_workflow
        SET workflow_name = #{workflowName},
            trigger_type = #{triggerType},
            trigger_value = #{triggerValue},
            timeout_seconds = #{timeoutSeconds},
            max_retry_times = #{maxRetryTimes},
            priority = #{priority},
            description = #{description}
        WHERE id = #{id} AND is_deleted = 0
    </update>

</mapper>
